optimize stuff    
 --use alot of promise.all()
 --make initial query sort messages so i dont sort messages over and over again    